#include <bits/stdc++.h>
using namespace std;

int maxLen(vector<int>& arr) {
    int longest = 0;
    unordered_map<int,int> mp;
    int preSum = 0;
    for (int i=0 ; i<arr.size() ; i++)
    {
        preSum += arr[i];
        if (preSum == 0)
        {
            longest = i+1;
        }
        else
        {
            if (mp.find(preSum) != mp.end())
            {
                longest = max(longest, i-mp[preSum]);
            }
            else
            {
                mp[preSum] = i;
            }
        }
    }
    return longest;
}

int main()
{
    vector<int> v = {15, -2, 2, -8, 1, 7, 10, 23};
    cout << maxLen(v) << endl;

    return 0;
}